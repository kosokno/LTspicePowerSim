Version 4
SHEET 1 1008 680
WIRE 464 -144 464 -160
WIRE 576 -144 576 -160
WIRE 464 -48 464 -64
WIRE 576 -48 576 -64
WIRE 192 -32 96 -32
WIRE 368 -32 256 -32
WIRE 96 64 96 -32
WIRE 144 64 96 64
WIRE 256 64 224 64
WIRE 368 64 368 -32
WIRE 368 64 320 64
WIRE 240 128 240 112
WIRE -208 144 -272 144
WIRE -32 144 -144 144
WIRE 96 144 96 64
WIRE 96 144 48 144
WIRE 208 144 96 144
WIRE 368 160 368 64
WIRE 368 160 272 160
WIRE 880 160 368 160
WIRE -144 176 -144 144
WIRE 208 176 128 176
WIRE 240 208 240 192
WIRE -144 272 -144 256
WIRE 128 336 128 176
WIRE 128 336 -256 336
FLAG -272 144 fb
IOPIN -272 144 In
FLAG -256 336 ref
IOPIN -256 336 In
FLAG -144 272 0
FLAG 880 160 ve
IOPIN 880 160 Out
FLAG 576 -48 0
FLAG 464 -48 0
FLAG 464 -160 +V
FLAG 576 -160 -V
FLAG 240 112 +V
FLAG 240 208 -V
SYMBOL res 240 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL cap 320 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C1}
SYMBOL cap 256 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C2}
SYMBOL bv -144 160 R0
SYMATTR InstName B1
SYMATTR Value V=V(fb)
SYMBOL res 64 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL UniversalOpAmp2 240 160 R0
WINDOW 123 34 49 Left 2
WINDOW 39 36 78 Left 2
WINDOW 40 32 106 Left 2
SYMATTR Value2 Avol={avol} GBW=10Meg Slew=10Meg
SYMATTR InstName U1
SYMBOL voltage 464 -160 R0
SYMATTR InstName V2
SYMATTR Value {vh}
SYMBOL voltage 576 -160 R0
SYMATTR InstName V3
SYMATTR Value {vl}
TEXT 272 184 Left 2 !.lib opamp.sub
TEXT -336 -224 Left 2 !.param g=1\n.param fz1=1k\n.param fp1=20k\n.param vh=5\n.param vl=0\n.param avol=100k
TEXT 416 72 Left 2 !.param R1=({R2}*{g})\n.param C1=1/(2*PI*{R1}*{fz1})\n.param C2=1/(2*PI*{R1}*{fp1})
TEXT -352 -288 Left 4 ;Type 2 Compensator
TEXT -80 208 Left 2 !.param R2=100k
TEXT -104 -224 Left 2 ;target gain at fz1\nzero frequency(Hz)\npole frequency(Hz)\nmax ouput voltage(V)\nmin output voltage(V)\nopen loop gain
TEXT -312 112 Left 2 ;feedback
TEXT -312 304 Left 2 ;reference
TEXT 656 176 Left 2 !.ic V(ve)=0
TEXT 448 -264 Left 2 ;2024-12-29
