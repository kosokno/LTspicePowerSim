Version 4
SHEET 1 1080 680
WIRE 528 -224 528 -240
WIRE 640 -224 640 -240
WIRE 528 -128 528 -144
WIRE 640 -128 640 -144
WIRE 192 -32 96 -32
WIRE 368 -32 256 -32
WIRE -128 48 -160 48
WIRE -32 48 -48 48
WIRE 64 48 32 48
WIRE 96 64 96 -32
WIRE 144 64 96 64
WIRE 256 64 224 64
WIRE 368 64 368 -32
WIRE 368 64 320 64
WIRE 240 128 240 112
WIRE -224 144 -256 144
WIRE -160 144 -160 48
WIRE -96 144 -160 144
WIRE 64 144 64 48
WIRE 64 144 -16 144
WIRE 96 144 96 64
WIRE 96 144 64 144
WIRE 208 144 96 144
WIRE 368 160 368 64
WIRE 368 160 272 160
WIRE 912 160 368 160
WIRE -160 176 -160 144
WIRE 208 176 176 176
WIRE 240 208 240 192
WIRE -160 288 -160 256
WIRE 176 368 176 176
WIRE 176 368 -256 368
FLAG -256 144 fb
IOPIN -256 144 In
FLAG -256 368 ref
IOPIN -256 368 In
FLAG -160 288 0
FLAG 912 160 ve
IOPIN 912 160 Out
FLAG 640 -128 0
FLAG 528 -128 0
FLAG 528 -240 +V
FLAG 640 -240 -V
FLAG 240 112 +V
FLAG 240 208 -V
SYMBOL res 240 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL cap 320 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C1}
SYMBOL cap 256 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C2}
SYMBOL bv -160 160 R0
SYMATTR InstName B1
SYMATTR Value V=V(fb)
SYMBOL res 0 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL res -32 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R3}
SYMBOL cap 32 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value {C3}
SYMBOL UniversalOpAmp2 240 160 R0
WINDOW 123 34 50 Left 2
WINDOW 39 35 79 Left 2
WINDOW 40 35 106 Left 2
SYMATTR Value2 Avol={avol} GBW=10Meg Slew=10Meg
SYMATTR InstName U1
SYMBOL voltage 528 -240 R0
SYMATTR InstName V1
SYMATTR Value {vh}
SYMBOL voltage 640 -240 R0
SYMATTR InstName V2
SYMATTR Value {vl}
TEXT 272 184 Left 2 !.lib opamp.sub
TEXT -224 -288 Left 2 !.param g=1\n.param fz1=1k\n.param fz2=5k\n.param fp1=30k\n.param fp2=100k\n.param vh=5\n.param vl=0\n.param avol=100k
TEXT 456 8 Left 2 !.param C1=({C3}/{g})\n.param C3=1/(2*PI*{R2}*{fz1})\n.param R1=1/(2*PI*{C1}*{fz2})\n.param R3=1/(2*PI*{C3}*{fp1})\n.param C2=1/(2*PI*{R1}*{fp2})
TEXT -264 -368 Left 4 ;Type 3 Compensator
TEXT -104 200 Left 2 !.param R2=100k
TEXT -304 112 Left 2 ;feedback
TEXT -304 336 Left 2 ;reference
TEXT 24 -288 Left 2 ;target gain at fz1\n1st zero frequency(Hz)\n2nd zero frequency(Hz)\n1st pole frequency(Hz)\n2nd pole frequency(Hz)\nmax ouput voltage(V)\nmin output voltage(V)\nopen loop gain
TEXT 536 -344 Left 2 ;2024-12-29
