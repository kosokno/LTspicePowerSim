Version 4
SHEET 1 1572 1312
WIRE -128 -112 -224 -112
WIRE -224 -80 -224 -112
WIRE -960 -64 -992 -64
WIRE -128 -32 -128 -112
WIRE -224 32 -224 0
WIRE -128 128 -128 48
WIRE -80 128 -128 128
WIRE 16 128 -80 128
WIRE 96 128 16 128
WIRE 256 128 256 112
WIRE 336 128 256 128
WIRE 16 144 16 128
WIRE 256 144 256 128
WIRE 480 144 400 144
WIRE 336 176 336 160
WIRE -944 192 -976 192
WIRE -128 208 -128 128
WIRE 16 240 16 208
WIRE 256 256 256 224
WIRE -128 320 -128 288
WIRE -928 496 -928 480
WIRE -928 592 -928 576
WIRE 480 624 400 624
WIRE 256 640 256 624
WIRE 336 640 256 640
WIRE 256 656 256 640
WIRE -928 688 -928 672
WIRE 336 688 336 672
WIRE 256 768 256 736
WIRE -928 784 -928 768
FLAG -992 -64 freq
IOPIN -992 -64 In
FLAG 16 240 0
FLAG -224 32 0
FLAG -976 192 phase
IOPIN -976 192 In
FLAG -128 320 0
FLAG 256 256 0
FLAG -80 128 a
FLAG -928 592 0
FLAG -928 480 d
FLAG 480 144 clk1
IOPIN 480 144 Out
FLAG 336 176 0
FLAG 256 112 b
FLAG 256 768 0
FLAG 480 624 clk2
IOPIN 480 624 Out
FLAG 336 688 0
FLAG 256 624 c
FLAG -928 784 0
FLAG -928 672 ph
SYMBOL cap 0 144 R0
SYMATTR InstName C1
SYMATTR Value 0.5
SYMBOL voltage -224 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 2
SYMBOL bi -128 -32 R0
SYMATTR InstName B1
SYMATTR Value I=IF(V(b),0,V(freq))
SYMBOL bi -128 208 R0
SYMATTR InstName B2
SYMATTR Value I=IF(V(b),V(freq),0)
SYMBOL res 240 128 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL bv -928 480 R0
SYMATTR InstName B3
SYMATTR Value V=IF(V(phase)>180,180,V(phase))
SYMBOL Digital\\buf 336 64 R0
SYMATTR InstName A1
SYMBOL res 240 640 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL Digital\\buf 336 576 R0
SYMATTR InstName A3
SYMBOL bv -928 672 R0
SYMATTR InstName B4
SYMATTR Value V=IF(V(d)<-180,-180,V(d))/180+1n
TEXT -520 32 Left 2 !.machine\n.state LO 0\n.state HI 1\n.rule LO HI V(a)>(1+1n)\n.rule HI LO V(a)<1n\n.output (b) state\n.endmachine
TEXT 24 96 Left 2 !.ic V(a)=0
TEXT -320 448 Left 2 !.machine\n.state LO0a 0\n.state LO0b 0\n.state LO1a 0\n.state LO1b 0\n.state HI0a 1\n.state HI0b 1\n.state HI1a 1\n.state HI1b 1\n.rule LO0a LO1a V(ph)>=0\n.rule LO1a LO0a V(ph)<0\n.rule LO1a LO1b V(a)<1n\n.rule LO1b HI1a V(a)>V(ph)\n.rule HI1a HI1b V(a)>1+1n\n.rule HI1b LO1a V(a)<(1-V(ph))\n.rule LO0a LO0b V(a)>1+1n\n.rule LO0b HI0a V(a)<abs(V(ph))\n.rule HI0a HI0b V(a)<1n\n.rule HI0b LO0a V(a)>(1-abs(V(ph)))\n.output (c) state\n.endmachine
TEXT 232 440 Left 2 !.ic V(clk1)=0 V(clk2)=0
TEXT -1072 -208 Left 4 ;Frequency Variable Phase Modulator
TEXT -1064 -104 Left 2 ;Frequency(Hz)
TEXT -1064 152 Left 2 ;Phase(°)
TEXT -104 -184 Left 2 ;2024-12-29
