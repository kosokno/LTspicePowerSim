Version 4
SHEET 1 2056 1312
WIRE 784 240 400 240
WIRE 832 240 784 240
WIRE 400 272 400 240
WIRE 832 320 832 240
WIRE 400 384 400 352
WIRE 784 400 752 400
WIRE 656 416 592 416
WIRE 832 432 832 416
WIRE 832 432 752 432
WIRE 832 464 832 432
WIRE 864 464 832 464
WIRE 928 464 864 464
WIRE 1104 464 1008 464
WIRE 1184 464 1104 464
WIRE 1200 464 1184 464
WIRE 592 496 592 416
WIRE 592 496 560 496
WIRE 832 496 832 464
WIRE 112 512 16 512
WIRE 240 512 176 512
WIRE 272 512 240 512
WIRE 416 512 368 512
WIRE 464 512 416 512
WIRE 1104 512 1104 464
WIRE 1200 512 1200 464
WIRE 592 528 560 528
WIRE 784 576 752 576
WIRE 592 592 592 528
WIRE 656 592 592 592
WIRE 832 608 832 592
WIRE 832 608 752 608
WIRE 240 640 240 512
WIRE 272 640 240 640
WIRE 400 640 368 640
WIRE 832 656 832 608
WIRE 1104 656 1104 576
WIRE 1104 656 1024 656
WIRE 1200 656 1200 592
WIRE 1104 688 1104 656
WIRE 272 704 256 704
WIRE 384 704 368 704
WIRE 1024 704 1024 656
WIRE 256 736 256 704
WIRE 384 736 384 704
WIRE 1008 736 960 736
WIRE 1024 800 1024 768
WIRE 1104 800 1104 768
WIRE 1104 800 1024 800
WIRE 1104 864 1104 800
FLAG 832 656 0
FLAG 400 384 0
FLAG 1104 864 0
FLAG 1184 464 out
FLAG 784 240 in
FLAG 864 464 sw
FLAG 1200 656 0
FLAG 416 512 pwm
FLAG 384 736 0
FLAG 256 736 0
FLAG 400 640 out
SYMBOL ind 912 480 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L}
SYMATTR SpiceLine Rser=10m
SYMBOL cap 1088 512 R0
SYMATTR InstName C1
SYMATTR Value 22µ
SYMATTR SpiceLine Rser=1m
SYMBOL iGD 704 416 R0
SYMATTR InstName X2
SYMBOL res 1184 496 R0
SYMATTR InstName R1
SYMATTR Value {vout/iout}
SYMBOL PWM 320 512 R0
WINDOW 39 -59 41 Left 2
SYMATTR SpiceLine freq={fsw}
SYMATTR InstName X4
SYMBOL voltage 400 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V1
SYMATTR Value {vin}
SYMBOL iNMOS 832 368 R0
SYMATTR InstName X7
SYMBOL CONST -16 512 R0
WINDOW 39 -2 64 Bottom 2
SYMATTR SpiceLine K={duty}
SYMATTR InstName X5
SYMBOL fra 176 512 R270
WINDOW 0 16 -32 VTop 2
SYMATTR InstName @1
SYMATTR SpiceLine delay=1m fstart=100 fend=100k oct=1 nmax=4 pp0=20m pp1=20m f0=100 f1=100k
SYMBOL fraprobe 320 720 R0
SYMATTR InstName &1plant
SYMBOL iNMOS 832 544 R0
SYMATTR InstName X1
SYMBOL iGD 704 592 R0
SYMATTR InstName X3
SYMBOL DEADTIME 512 512 R0
SYMATTR InstName X6
SYMBOL res 1088 672 R0
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL CONTACTOR 1008 736 R270
SYMATTR InstName X8
SYMBOL TIMER 928 736 R0
WINDOW 39 0 55 Bottom 2
SYMATTR SpiceLine T=0.1m
SYMATTR InstName X9
TEXT 600 8 Left 2 ;.tran 0 5m 0 10n
TEXT 600 152 Left 2 !;.save V(out) V(sw) I(L1) V(duty)
TEXT 600 40 Left 2 !.fra
TEXT -136 -64 Left 5 ;Voltage Mode Buck CCM plant
TEXT 1072 -32 Left 2 ;2024-12-29
TEXT 1080 408 Left 2 !.ic V(out)={vout}
TEXT 600 72 Left 2 !.step param iout list 1m 100m 1
TEXT -120 16 Left 2 !.param vout=1\n.param vin=5\n.param iout=1m\n.param fsw=2Meg\n.param L=10u\n.param duty=(vout/vin)
TEXT 600 104 Left 2 !.step param vin list 2.5 5
TEXT 936 368 Left 2 !.ic I(L1)={iout}
