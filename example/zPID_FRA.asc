Version 4
SHEET 1 1364 1156
WIRE -320 240 -368 240
WIRE -240 240 -256 240
WIRE -192 240 -240 240
WIRE -96 240 -128 240
WIRE 0 240 -32 240
WIRE 96 240 64 240
WIRE 160 240 96 240
WIRE 432 256 384 256
WIRE 480 256 432 256
WIRE 160 272 112 272
WIRE -288 368 -336 368
WIRE -64 368 -64 272
WIRE -64 368 -192 368
WIRE 112 368 112 272
WIRE 112 368 -64 368
WIRE -48 464 -64 464
WIRE 64 464 48 464
WIRE 224 464 208 464
WIRE 336 464 320 464
WIRE -48 528 -64 528
WIRE 64 528 48 528
WIRE 224 528 208 528
WIRE 336 528 320 528
WIRE -64 560 -64 528
WIRE 64 560 64 528
WIRE 208 560 208 528
WIRE 336 560 336 528
FLAG 432 256 out
FLAG 96 240 inb
FLAG -64 560 0
FLAG 64 560 0
FLAG 64 464 out
FLAG -64 464 ina
FLAG -368 240 0
FLAG -240 240 ina
FLAG 208 560 0
FLAG 336 560 0
FLAG 336 464 out
FLAG 208 464 inb
SYMBOL PowerSim\\CONST -368 368 R0
WINDOW 39 -3 55 Bottom 2
SYMATTR SpiceLine K=1Meg
SYMATTR InstName X14
SYMBOL PowerSim\\SAMPLEHOLD -64 240 R0
WINDOW 3 -9 78 Bottom 2
SYMATTR InstName X3
SYMBOL PowerSim\\QUANTIZE 32 240 R0
WINDOW 3 2 61 Bottom 2
WINDOW 123 5 83 Bottom 2
SYMATTR Value2 bits=16
SYMATTR InstName X5
SYMBOL fra -256 240 R270
WINDOW 0 16 -32 VTop 2
SYMATTR InstName @1
SYMATTR SpiceLine fstart=10 fend=500k oct=1 pp0=20m pp1=20m f0=100 f1=500k
SYMBOL fraprobe 0 544 R0
SYMATTR InstName &1a
SYMBOL PowerSim\\VCO -240 368 R0
SYMATTR InstName X2
SYMBOL PowerSim\\LPF -160 240 R0
WINDOW 3 1 54 Bottom 2
WINDOW 123 0 75 Bottom 2
SYMATTR Value f=200k
SYMATTR InstName X4
SYMBOL fraprobe 272 544 R0
SYMATTR InstName &1b
SYMBOL PowerSim\\zPID 272 256 R0
WINDOW 39 8 71 Bottom 2
WINDOW 40 -43 99 Bottom 2
WINDOW 3 4 126 Bottom 2
WINDOW 123 73 98 Bottom 2
SYMATTR SpiceLine2 fp1=100k
SYMATTR InstName X6
TEXT -440 16 Left 4 ;Discrete PID FRA
TEXT 312 0 Left 2 ;2025-3-23
TEXT -424 88 Left 2 !.fra dtmax=1u
TEXT 160 192 Left 2 ;zPID
